"0","folder <- ""Hepatic Aryl hydrocarbon Receptor Nuclear Translocator (ARNT) regulates metabolism in mice"""
"0","## Fig 1A, D, E"
"0","filename <- ""Fasting glucose and GTT and AUCGTT.xlsx"""
"0","file_path <- here(data_path, folder, filename)"
"0","arnt_wide <- read_excel(file_path, "
"0","                        range=""A1:J23"") %>%"
"0","  clean_names() %>%"
"0","  data.table()"
"1",""
"1","-"
"1",""
"1","/"
"1","                                                                              "
"1",""
"0","times <- c(0, 15, 30, 60, 90, 120)"
"0","time_cols <- paste0(""x"", times)"
"0","y_cols <- paste0(""x"", times[times != 0])"
"0","arnt_wide[, my_auc := apply(arnt_wide[, .SD, .SDcols=time_cols], 1, auc, x=times)] #check"
"0","arnt_wide[, iauc := apply(arnt_wide[, .SD, .SDcols=time_cols], 1, auc, x=times, method=""iauc"")]"
"0","arnt_wide[, ipos.auc := apply(arnt_wide[, .SD, .SDcols=time_cols], 1, auc, x=times, method=""pos.iauc"")]"
"0","arnt_wide[, glucose_mean := apply(arnt_wide[, .SD, .SDcols=y_cols], 1, mean)]"
"0","arnt_wide[, glucose_change := glucose_mean - x0]"
"0","# there is a miscoded value in cre-wt: ""Wt"" instead of ""WT"""
"0","arnt_wide[cre_wt == ""Wt"", cre_wt := ""WT""]"
"0","arnt_wide[, treatment := factor(cre_wt, c(""WT"", ""Cre""))]"
"0","arnt_wide[, id := as.character(mouse_no)]"
"0","arnt_long <- melt(arnt_wide,"
"0","                  id.vars = c(""id"", ""treatment"", ""sex"", ""auc"", ""iauc""),"
"0","                  measure.vars = time_cols,"
"0","                  variable.name = ""time"","
"0","                  value.name = ""glucose"")"
"0","arnt_long[, time := factor(time)]"
