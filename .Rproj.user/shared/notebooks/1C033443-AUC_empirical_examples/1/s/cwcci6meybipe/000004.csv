"0","folder <- ""BCAA catabolism in brown fat controls energy homeostasis through SLC25A44"""
"0","filename <- ""41586_2019_1503_MOESM8_ESM.xlsx"""
"0","file_path <- here(data_path, folder, filename)"
"0","times <- c(0, 15, 30, 60, 90, 120)"
"0","time_cols <- paste0(""glucose"", times)"
"0","bcaa_wide <- read_excel(file_path,"
"0","                        sheet = ""Fig2g"","
"0","                        range = ""A2:G30"") %>%"
"0","  data.table()"
"1",""
"1","-"
"1",""
"1","/"
"1","                                                                              "
"1",""
"0","colnames(bcaa_wide) <- c(""id"", time_cols)"
"0","bcaa_wide[, id := factor(id)]"
"0","bcaa_wide[, treatment := factor(ifelse(substr(id,1,1)==""C"", ""Control"", ""BckdhaUcp1 KO""),"
"0","                                c(""Control"", ""BckdhaUcp1 KO""))]"
"0","Y <- bcaa_wide[, .SD, .SDcols = time_cols]"
"0","bcaa_wide[, auc := apply(Y, 1, auc, x=times)] #check"
"0","bcaa_wide[, iauc := apply(Y, 1, auc, x=times, method=""iauc"")]"
"0","bcaa_wide[, pos.iauc := apply(Y, 1, auc, x=times, method=""pos.iauc"")]"
"0","bcaa_wide[, pb.auc := apply(Y, 1, auc, x=times, method=""pb.auc"")]"
"0","bcaa_wide[, glucose_mean := apply(Y, 1, mean)]"
"0","bcaa_wide[, glucose_change := glucose_mean - glucose0]"
"0","bcaa_long <- melt(bcaa_wide, "
"0","                    id.vars = c(""treatment"", ""id"", ""glucose0""),"
"0","                    measure.vars = time_cols,"
"0","                    variable.name = ""time"","
"0","                    value.name = ""glucose"")"
"0","bcaa_long[, time := factor(time)]"
"0","bcaa_long[, minutes := times[as.integer(time)]]"
